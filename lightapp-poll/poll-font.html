<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
	<title>投票</title>
	<link rel="stylesheet" href="plugin/seedsui/seedsui.css">
	<style type="text/css">
		.grid-title{
			position: absolute;
			bottom:0;
			box-sizing:border-box;
			padding:0 6px;
			width:100%;
			text-align:left;
			min-height:60px;
			background-color:rgba(0,0,0,.5);
			color:white;
		}
		input[type="checkbox"]{
			font-size:32px;
		}
		input[type="checkbox"]:before {
		  	content: "\e9cd";
		}
		input[type="checkbox"]:checked:before{
			color:#4cd32e;
		  	content: "\e9ce";
		}
		.grid.thumbnail a input[type=checkbox]{
			position: absolute;
			top:12px;
			right:15px;
		}
	</style>
</head>
<body>
	<section id="page_pollPic" class="active">
		<header>
			<div class="titlebar">
                <a href="javascript:history.go(-1)">
                    <i class="icon-arrowleft"></i>
                    <span>返回</span>
                </a>
                <h1 class="text-center">投票</h1>
            </div>
		</header>
		<article>
			<div class="card overflow-hide">
			<ul class="list noclick">
				<li class="between">
					<div class="justify">
                        <div class="round" style="background-image:url(img/photo/tx1.jpg)"></div>
                    </div>
					<div class="justify-content">
						<p>Cindy</p>
						<small class="top right">于2016-02-28截止</small>
						<small>
							创建:2016-01-01
							<div class="progress-bar radiusround float-right" style="width:170px;margin:-2px 0 0 0;">
                                <span class="progress" style="width: 25%"></span>
                                <span class="text"><a class="timer" data-duration="1000" data-to="25">25</a>/100</span>
                            </div>
						</small>
					</div>
				</li>
				<li class="nojustify noborder">
                    <div class="justify-content">
                        <p>吃货的选择是？</p>
                        <small class="nowrap">投票决定，最高票数当选</small>
                    </div>
                </li>
                <li class="noborder">
                	<div class="justify-content" style="height:30px;">
                		<small class="top left">记名投票(最多选2项)</small>
                		<small class="top right">0人参与投票</small>
                    </div>
                </li>
			</ul>
			<ul class="grid thumbnail" data-col="2" style="background-color:white;" id="sel">
				<li>
					<a>
						<input type="checkbox">
						<div class="grid-title box box-middle">
							内容内容
						</div>
						<img src="img/picture/login.png">
					</a>
				</li>
				<li>
					<a>
						<input type="checkbox">
						<div class="grid-title box box-middle">
							内容内容
						</div>
						<img src="img/picture/login.png">
					</a>
				</li>
				<li>
					<a>
						<input type="checkbox">
						<div class="grid-title box box-middle">
							内容内容
						</div>
						<img src="img/picture/login.png">
					</a>
				</li>
				<li>
					<a>
						<input type="checkbox">
						<div class="grid-title box box-middle">
							内容内容
						</div>
						<img src="img/picture/login.png">
					</a>
				</li>
			</ul>
			</div>
		</article>
	</section>
	<script src="plugin/jquery/jquery.min.js"></script>
    <script src="plugin/seedsui/seedsui.min.js"></script>
    <script type="text/javascript">
    	var checkedToast=new Toast("最多选2项");
    	function getCheckbox(e){
    		var target=e.target;
    		var cbo;
    		if(target.tagName.toLowerCase()=="a"){
    			cbo=target.querySelector("input[type=checkbox]");
    		}else if(target.tagName.toLowerCase()=="img" || target.tagName.toLowerCase()=="div"){
    			cbo=target.parentNode.querySelector("input[type=checkbox]");
    		}else if(target.tagName.toLowerCase()=="input"){
    			cbo=target;
    		}
    		return cbo;
    	}
    	function displayCheckbox(display){
    		//显示其它的checkbox
			[].slice.call(this.querySelectorAll("input[type=checkbox]")).forEach(function(n,i,a){
				if(!n.checked){
					n.style.display=display;
				}
			});
    	}
    	var cboCount=0;
    	function checkedCheckbox(cbo,cboMaxCount){
    		if(cbo.checked){
    			cboCount--;
    			cbo.checked=false;
    			return;
    		}
    		if(cboCount>=cboMaxCount){
    			checkedToast.show();
    			return;
    		}
    		if(!cbo.checked){
    			cboCount++;
    			cbo.checked=true;
    		}
    	}
    	document.getElementById("sel").addEventListener("click",function(e){
    		var cbo=getCheckbox(e);
    		checkedCheckbox.call(this,cbo,2);
    	},false);
    </script>
</body>
</html>